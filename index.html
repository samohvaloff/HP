
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Гарри Поттер — угадай героя по фото (10 вопросов)</title>
<meta name="description" content="Квиз на 10 вопросов по миру Гарри Поттера: угадай героя по фотографии актёра. Работает на iPhone, Android и ПК." />
<style>
  :root { --accent:#5b7cfa; --ok:#12b981; --bad:#ef4444; --ink:#0f172a; --muted:#475569; --card:#ffffff; --bg:#f6f7fb; }
  *{box-sizing:border-box}
  body{margin:0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Inter, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji','Segoe UI Emoji',sans-serif; background:var(--bg); color:var(--ink);}
  header{padding:20px 16px; text-align:center; background:linear-gradient(180deg,#fff,rgba(255,255,255,0));}
  h1{margin:0 0 8px; font-size: clamp(22px, 4vw, 32px);}
  p.lead{margin:0; color:var(--muted)}
  main{max-width:1000px; margin:24px auto; padding:0 12px;}
  .card{background:var(--card); border-radius:16px; padding:16px; box-shadow:0 6px 20px rgba(20,25,60,.06); margin-bottom:18px;}
  .q-title{font-weight:600; margin:0 0 12px; font-size:18px;}
  .grid{display:grid; grid-template-columns: 1fr 1fr; gap:12px;}
  @media (min-width:720px){ .grid{grid-template-columns: repeat(4, 1fr);} }
  .opt{position:relative; border:2px solid transparent; border-radius:14px; overflow:hidden; background:#f9fafb; cursor:pointer; outline:none; padding:0;}
  .opt img{display:block; width:100%; height:180px; object-fit:cover;}
  .opt .label{padding:8px 10px; font-size:13px; color:#111827; background:#fff;}
  .credit{position:absolute; right:8px; bottom:36px; font-size:11px; background:rgba(255,255,255,.85); padding:4px 6px; border-radius:8px; color:#111827;}
  .opt input{display:none;}
  .opt.selected{border-color:var(--accent); box-shadow: 0 0 0 4px rgba(91,124,250,.12);}
  .opt.correct{border-color:var(--ok);}
  .opt.wrong{border-color:var(--bad); opacity:.9;}
  .actions{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:center; padding:12px;}
  button.primary{background:var(--accent); color:#fff; border:none; border-radius:12px; padding:12px 18px; font-weight:600; cursor:pointer;}
  button.ghost{background:transparent; border:1px solid #cbd5e1; border-radius:12px; padding:10px 14px; color:#0f172a; cursor:pointer;}
  .score{font-weight:700;}
  details.credits{margin:16px 0; font-size:13px; color:#334155;}
  details summary{cursor:pointer; font-weight:600; margin-bottom:8px;}
  footer{max-width:1000px; margin:24px auto; padding:0 12px 30px; color:#475569; font-size:13px;}
  a{color:#1d4ed8; text-decoration:none}
  a:hover{text-decoration:underline}
</style>
</head>
<body>
<header>
  <h1>Гарри Поттер — угадай героя по фото</h1>
  <p class="lead">10 вопросов. Нажимайте на фото, затем «Проверить»</p>
</header>
<main id="app"></main>
<div class="actions card">
  <button class="primary" id="checkBtn">Проверить ответы</button>
  <button class="ghost" id="resetBtn">Сбросить</button>
  <span class="score" id="scoreTxt"></span>
</div>
<footer>
  <details class="credits">
    <summary>Сведения об изображениях и лицензиях (Wikimedia Commons)</summary>
    <div id="creditList"></div>
  </details>
  <div style="font-size:12px;opacity:.9">
    Изображения использованы по свободным лицензиям, указаны авторы и ссылки на лицензии.
  </div>
</footer>
<script>
const PEOPLE = {"bonnie_wright": {"character": "Джинни Уизли", "actor": "Bonnie Wright", "file": "Bonnie_Wright_(34941047496).jpg", "file_page": "https://commons.wikimedia.org/wiki/File:Bonnie_Wright_(34941047496).jpg", "author": "Gage Skidmore", "license_name": "CC BY-SA 2.0", "license_url": "https://creativecommons.org/licenses/by-sa/2.0"}, "emma_watson": {"character": "Гермиона Грейнджер", "actor": "Emma Watson", "file": "Emma_Watson_2013.jpg", "file_page": "https://commons.wikimedia.org/wiki/File:Emma_Watson_2013.jpg", "author": "Georges Biard", "license_name": "CC BY-SA 3.0", "license_url": "https://creativecommons.org/licenses/by-sa/3.0"}, "daniel_radcliffe": {"character": "Гарри Поттер", "actor": "Daniel Radcliffe", "file": "Daniel_Radcliffe_2014.jpg", "file_page": "https://commons.wikimedia.org/wiki/File:Daniel_Radcliffe_2014.jpg", "author": "Gage Skidmore", "license_name": "CC BY-SA 2.5", "license_url": "https://creativecommons.org/licenses/by-sa/2.5"}, "rupert_grint": {"character": "Рон Уизли", "actor": "Rupert Grint", "file": "Rupert_Grint_2011.jpg", "file_page": "https://commons.wikimedia.org/wiki/File:Rupert_Grint_2011.jpg", "author": "Joella Marano", "license_name": "CC BY-SA 2.0", "license_url": "https://creativecommons.org/licenses/by-sa/2.0"}, "tom_felton": {"character": "Драко Малфой", "actor": "Tom Felton", "file": "Tom_Felton_2.jpg", "file_page": "https://commons.wikimedia.org/wiki/File:Tom_Felton_2.jpg", "author": "Eva Rinaldi", "license_name": "CC BY-SA 2.0", "license_url": "https://creativecommons.org/licenses/by-sa/2.0"}, "evanna_lynch": {"character": "Полумна Лавгуд", "actor": "Evanna Lynch", "file": "Evanna_Lynch_Headshot_2018.jpg", "file_page": "https://commons.wikimedia.org/wiki/File:Evanna_Lynch_Headshot_2018.jpg", "author": "Toby Shaw (TobyShawPhoto)", "license_name": "CC BY-SA 4.0", "license_url": "https://creativecommons.org/licenses/by-sa/4.0"}, "matthew_lewis": {"character": "Невилл Долгопупс", "actor": "Matthew Lewis", "file": "Matthew_Lewis_(47963417312).jpg", "file_page": "https://commons.wikimedia.org/wiki/File:Matthew_Lewis_(47963417312).jpg", "author": "Gage Skidmore", "license_name": "CC BY-SA 2.0", "license_url": "https://creativecommons.org/licenses/by-sa/2.0"}, "maggie_smith": {"character": "Минерва МакГонагалл", "actor": "Maggie Smith", "file": "Dame_Maggie_Smith.jpg", "file_page": "https://commons.wikimedia.org/wiki/File:Dame_Maggie_Smith.jpg", "author": "Kebl0597", "license_name": "CC BY-SA 3.0 (multi-licensed)", "license_url": "https://creativecommons.org/licenses/by-sa/3.0"}, "alan_rickman": {"character": "Северус Снейп", "actor": "Alan Rickman", "file": "Alan_Rickman_BAM_2011-01-15_n1.jpg", "file_page": "https://commons.wikimedia.org/wiki/File:Alan_Rickman_BAM_2011-01-15_n1.jpg", "author": "Marie-Lan Nguyen (Jastrow)", "license_name": "CC BY 3.0", "license_url": "https://creativecommons.org/licenses/by/3.0"}, "robbie_coltrane": {"character": "Рубеус Хагрид", "actor": "Robbie Coltrane", "file": "Robbiecoltrane.jpg", "file_page": "https://commons.wikimedia.org/wiki/File:Robbiecoltrane.jpg", "author": "clogdancer", "license_name": "CC BY-SA 2.0", "license_url": "https://creativecommons.org/licenses/by-sa/2.0"}};
const QUESTIONS = [{"title": "Где Джинни Уизли? Выберите правильное фото.", "correct": "bonnie_wright", "choices": ["bonnie_wright", "emma_watson", "daniel_radcliffe", "rupert_grint"]}, {"title": "Где Гермиона Грейнджер?", "correct": "emma_watson", "choices": ["emma_watson", "evanna_lynch", "tom_felton", "matthew_lewis"]}, {"title": "Где Гарри Поттер?", "correct": "daniel_radcliffe", "choices": ["daniel_radcliffe", "rupert_grint", "tom_felton", "robbie_coltrane"]}, {"title": "Где Рон Уизли?", "correct": "rupert_grint", "choices": ["rupert_grint", "daniel_radcliffe", "matthew_lewis", "tom_felton"]}, {"title": "Где Драко Малфой?", "correct": "tom_felton", "choices": ["tom_felton", "daniel_radcliffe", "rupert_grint", "alan_rickman"]}, {"title": "Где Полумна Лавгуд?", "correct": "evanna_lynch", "choices": ["evanna_lynch", "emma_watson", "bonnie_wright", "maggie_smith"]}, {"title": "Где Невилл Долгопупс?", "correct": "matthew_lewis", "choices": ["matthew_lewis", "rupert_grint", "daniel_radcliffe", "tom_felton"]}, {"title": "Где профессор МакГонагалл?", "correct": "maggie_smith", "choices": ["maggie_smith", "emma_watson", "evanna_lynch", "bonnie_wright"]}, {"title": "Где Северус Снейп?", "correct": "alan_rickman", "choices": ["alan_rickman", "robbie_coltrane", "daniel_radcliffe", "tom_felton"]}, {"title": "Где Рубеус Хагрид?", "correct": "robbie_coltrane", "choices": ["robbie_coltrane", "alan_rickman", "daniel_radcliffe", "rupert_grint"]}];

function imgURL(file){ return `https://commons.wikimedia.org/wiki/Special:FilePath/${file}?width=520`; }

function render(){
  const app = document.getElementById('app');
  app.innerHTML = '';
  QUESTIONS.forEach((q, qi) => {
    const card = document.createElement('section');
    card.className = 'card';
    const title = document.createElement('div');
    title.className = 'q-title';
    title.textContent = `${qi+1}. ${q.title}`;
    card.appendChild(title);

    const grid = document.createElement('div');
    grid.className = 'grid';

    q.choices.forEach((key) => {
      const p = PEOPLE[key];
      const opt = document.createElement('label');
      opt.className = 'opt';
      opt.dataset.key = key;
      opt.dataset.qi = qi;

      const input = document.createElement('input');
      input.type = 'radio';
      input.name = `q${qi}`;
      input.value = key;
      input.addEventListener('change', () => {
        const group = app.querySelectorAll(`label.opt[data-qi="${qi}"]`);
        group.forEach(el => el.classList.remove('selected'));
        opt.classList.add('selected');
      });

      const img = document.createElement('img');
      img.src = imgURL(p.file);
      img.alt = `${p.actor} — ${p.character}`;
      const credit = document.createElement('div');
      credit.className = 'credit';
      credit.innerHTML = `© ${p.author} / <a href="${p.license_url}" target="_blank" rel="noopener">${p.license_name}</a>`;

      const lbl = document.createElement('div');
      lbl.className = 'label';
      lbl.textContent = p.actor;

      opt.appendChild(input);
      opt.appendChild(img);
      opt.appendChild(credit);
      opt.appendChild(lbl);
      grid.appendChild(opt);
    });

    card.appendChild(grid);
    app.appendChild(card);
  });

  const cred = document.getElementById('creditList');
  cred.innerHTML = Object.values(PEOPLE).map(p => {
    return `<div style="margin:6px 0">
      <a href="${p.file_page}" target="_blank" rel="noopener">${p.actor}</a> — автор ${p.author}, лицензия 
      <a href="${p.license_url}" target="_blank" rel="noopener">${p.license_name}</a>.
    </div>`;
  }).join('');
}

function check(){
  let correct = 0;
  QUESTIONS.forEach((q, qi) => {
    const chosen = document.querySelector(`input[name="q${qi}"]:checked`);
    const labels = document.querySelectorAll(`label.opt[data-qi="${qi}"]`);
    labels.forEach(l => l.classList.remove('correct','wrong'));
    if(!chosen) return;
    labels.forEach(l => {
      if(l.dataset.key === q.correct){ l.classList.add('correct'); }
      else if(l.querySelector('input').checked){ l.classList.add('wrong'); }
    });
    if(chosen && chosen.value === q.correct) correct++;
  });
  document.getElementById('scoreTxt').textContent = `Результат: ${correct} из ${QUESTIONS.length}`;
  window.scrollTo({top: document.body.scrollHeight, behavior:'smooth'});
}

function resetQuiz(){
  document.querySelectorAll('input[type="radio"]').forEach(i=>{ i.checked=false; });
  document.querySelectorAll('.opt').forEach(o=>o.classList.remove('selected','correct','wrong'));
  document.getElementById('scoreTxt').textContent='';
  window.scrollTo({top:0, behavior:'smooth'});
}

document.getElementById('checkBtn').addEventListener('click', check);
document.getElementById('resetBtn').addEventListener('click', resetQuiz);

render();
</script>
</body>
</html>
